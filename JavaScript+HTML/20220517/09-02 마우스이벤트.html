<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script>
    //전역변수-->여러함수에서 접근하기 위함
    var myCanvas,myCtx;

    function startLine(){ 
        myCanvas=document.getElementById("myCanvas");
        myCtx=myCanvas.getContext('2d');
        myCanvas.addEventListener("mousedown",__downMouse,false);
        myCanvas.addEventListener("mouseup",__upMouse,false);

    }

    function stoptLine(){
        myCanvas.removeEventListener("mousedown",__downMouse,false);
        myCanvas.removeEventListener("mouseup",__upMouse,false);
    }

    

    

    function __downMouse(event){ //콜백함수(Call Back)
        startX=event.offsetX;
        startY=event.offsetY;
        
    }

    function __upMouse(event){ //콜백함수(Call Back)
        endX=event.offsetX;
        endY=event.offsetY;
        myCtx.beginPath(); //선그리기 시작
        myCtx.strokeStyle="red"; //선색상
        myCtx.lineWidth=10;//선두깨
        //계획
        myCtx.moveTo(startX,startY); //볼펜이동(선 안그려)
        myCtx.lineTo(endX,endY);
        //실행
        myCtx.stroke();
        myCtx.closePath(); //선그리기 끝
    }
    

   
</script>
</head>
<body>
    <input type="button" value="선그리기 시작" id="btnStart" onclick="startLine()"/>
    <input type="button" value="선그리기 끝" id="btnStart" onclick="stoptLine()"/>
   
    <br>
    <canvas id="myCanvas" style="background-color:aqua" width="500" height="500"></canvas>
</body>
</html>